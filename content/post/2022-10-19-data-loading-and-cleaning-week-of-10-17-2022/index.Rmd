---
title: Data Loading and Cleaning, Week of 10/17/2022
author: Daniel Sussman
date: '2022-10-19'
slug: []
categories: []
tags: []
description: ~
toc: yes
authors: []
series: []
lastmod: '2022-10-19T09:38:50-04:00'
featuredVideo: ~
featuredImage: ~
---

Our data set of MLB game statistics is >50mb and can be found in the `dataset-ignore` folder. After reading in the CSV file, we converted it into a tibble. 

```{r}
source(
  here::here("static", "load_and_clean_data.R"),
  echo = TRUE
)

library(tidyverse)

data <- read_csv(here::here("dataset", "dataset-ignore", "game_logs.csv"))
(baseball <- as_tibble(data))
```

\n
\n

The date in the data is inserted as an integer, so using separate, we separated the date into three columns: `year`, `month`, and `day`. If we need to combine these, we can easily do so later on using lubridate.

```{r}
(baseball <- baseball %>% separate(date,into=c("year","month_day"),sep=4) %>% 
             separate(month_day,into=c("month","day"),sep=2))
```
             
\n
\n

Since this is a large dataset, we are considering working with those baseball games that took place between the years 2000 and 2016. Data on games from the 1970s and 1990s are missing so we chose to take a subset of more recent years of baseball. From the earliest years of the dataset, there are many variables with missing data as it might be too far in the past to recover such specific statistics of those games. Additionally, over the centuries of baseball, the rules of the game have changed so taking a subset of only the most recent years would help the data be more consistent.

```{r}
years<-c(2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016)
(baseball <- baseball%>%filter(year %in% years))
```

\n
\n

This data set does not specify whether the home team wins or loses, but it does contain information on the home team's and the away team's number of runs. Since we are interested in seeing if a team wins or loses, we created a column in the dataset called `score_diff`, which takes the number of the visiting team's runs subtracted from the number of the one team's runs. A positive value represents a win, a negative value represents a loss, and a zero is a tie. The higher absolute values represent a bigger win/loss.

```{r}
(baseball <- baseball %>% mutate(score_diff=h_score-v_score))
```


\n
\n

Some filters we are considering are to filter by home team.

```{r}
baseball %>% filter(h_name=="BOS")
```

We filtered to select Boston Red Sox as the home team, since we have already found weather data for Boston and are considering taking this into account later on.




plots
mean scores?
day of week?
visiting team?


INSTRUCTIONS:


Are you starting by removing missing values or focusing on columns with less missing data.
Exploratory Data Analysis
Talk about your initial exploration of the data.
Give summary statistics and make plots about parts of the data that will be your focus. You might focus on just a few variables.
What are the big, obvious patterns in the data? Are these surprising?
